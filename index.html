<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Scavenger Hunt â€” For Andrew</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ff7ab6;--muted:#94a3b8;--glass:rgba(255,255,255,0.03)}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;color:#e6eef8;background:linear-gradient(180deg,#071029 0%, #0e1826 100%);}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:920px;max-width:96%;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:16px;padding:28px;box-shadow:0 8px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
    h1{margin:0 0 6px;font-size:28px}
    p.lead{color:var(--muted);margin-top:0}
    .center{text-align:center}
    .meta{display:flex;gap:12px;align-items:center;margin:10px 0 18px}
    input[type=text]{width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:var(--glass);color:inherit;font-size:16px}
    button{background:linear-gradient(90deg,var(--accent),#ff5b8a);border:0;padding:10px 14px;border-radius:10px;color:white;font-weight:600;cursor:pointer}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .hint{font-size:14px;color:#cbd5e1;margin-top:8px}
    .small{font-size:13px;color:var(--muted)}
    .progress{height:8px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden;margin-top:16px}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,#6ee7b7,#60a5fa);width:0%}
    .footer{margin-top:18px;color:var(--muted);font-size:13px;display:flex;justify-content:space-between}
    .hint-btn{background:transparent;border:1px dashed rgba(255,255,255,0.04);padding:8px;border-radius:8px;color:var(--muted);cursor:pointer}
    .riddle-box{background:rgba(255,255,255,0.02);padding:14px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}
    .decoded{margin-top:8px;padding:10px;border-radius:8px;background:rgba(255,255,255,0.01);}
    @media(max-width:720px){.row{grid-template-columns:1fr}.card{padding:18px}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="app">
      <div id="screen-landing">
        <h1>For Andrew â€” A Little City Scavenger Hunt</h1>
        <p class="lead">Playful, flirty, and just the right amount of mysterious. Type the answer to move forward. No spoilers â€” only sweet consequences.</p>
        <div class="meta">
          <div class="small">Date: <strong id="hunt-date">October 10</strong></div>
          <div class="small">Progress: <strong id="progress-label">0 / 3</strong></div>
        </div>
        <div class="center">
          <button id="startBtn">Start the Hunt</button>
        </div>
        <div class="progress" aria-hidden><i id="progress-bar" style="width:0%"></i></div>
        <div class="footer"><div>Made with ðŸ’–</div><div class="small">Tip: answers ignore capitalization & punctuation</div></div>
      </div>

      <!-- PAGE: Question 1 -->
      <div id="screen-q1" style="display:none">
        <h1>Question 1</h1>
        <p class="lead">Let's warm up: <strong>When was our first kiss?</strong></p>
        <div class="riddle-box">
          <p class="small">Type the date (words or numbers are fine). Be flirty, be accurate.</p>
          <input id="answer-q1" type="text" placeholder="e.g. September 1, September first" />
          <div style="height:10px"></div>
          <div style="display:flex;gap:8px;align-items:center">
            <button id="submit-q1">Submit</button>
            <button class="hint-btn" id="hint-q1">Hint</button>
            <div id="q1-msg" class="small" style="margin-left:8px;color:#ffd6e6"></div>
          </div>
        </div>
      </div>

      <!-- PAGE: Enigma / Kachina (Base64) -->
      <div id="screen-q2" style="display:none">
        <h1>Enigma</h1>
        <p class="lead">You solved the first one â€” good job. Now decode this (or just type the place if you already know it).</p>
        <div class="riddle-box">
          <p class="small">Encoded hint (Base64). Click <em>Decode</em> to reveal. You can also paste the decoded text in the answer field.</p>
          <pre id="encoded" style="padding:10px;border-radius:8px;background:rgba(0,0,0,0.15);overflow:auto">V2l0aCBzYWx0IG9uIHRoZSByaW0gYW5kIGxpbWUgaW4gdGhlIGdhc3MsIHlvdSB3YWxrZWQgaW4gdG8gYSBwYXBsYXRlLCB3aGVyZSB0aW1lIHN0b3BzLiBGaW5kIHRoZSBjYW50aW5hLg==</pre>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button id="decodeBtn">Decode</button>
            <button class="hint-btn" id="hint-q2">Hint</button>
            <div id="decodedText" class="decoded small"></div>
          </div>
          <div style="height:12px"></div>
          <input id="answer-q2" type="text" placeholder="Type the location name (e.g. Kachina Cantina)" />
          <div style="height:10px"></div>
          <div style="display:flex;gap:8px;align-items:center">
            <button id="submit-q2">Submit</button>
            <div id="q2-msg" class="small" style="margin-left:8px;color:#ffd6e6"></div>
          </div>
        </div>
      </div>

      <!-- PAGE: Final -->
      <div id="screen-final" style="display:none">
        <h1>You're Almost There âœ¨</h1>
        <p class="lead">Final stop: Retrograde (or whichever sweet spot you picked). Bring this note and the small surprise waiting for you.</p>
        <div class="riddle-box center">
          <p class="small">Congrats â€” you decoded the clues and found your way. Show this to the bartender/server/host to claim your prize :)</p>
          <div style="height:10px"></div>
          <button id="resetBtn">Play Again / Reset</button>
        </div>
      </div>

    </div>
  </div>

  <script>
    const CONFIG = {
      huntDate: 'October 10',
      totalSteps: 3,
      answers: {
        q1: ['september 1','september 1st','sept 1','septemberfirst','09/01','9/1','september 01'],
        q2: ['kachina cantina','kachina','kachina cantina denver']
      },
      encodedRiddle: 'V2l0aCBzYWx0IG9uIHRoZSByaW0gYW5kIGxpbWUgaW4gdGhlIGdhc3MsIHlvdSB3YWxrZWQgaW4gdG8gYSBwYXBsYXRlLCB3aGVyZSB0aW1lIHN0b3BzLiBGaW5kIHRoZSBjYW50aW5hLg=='
    }

    const $ = s=>document.querySelector(s)
    const normalize=s=>(s||'').toLowerCase().replace(/[^a-z0-9 ]/g,'').replace(/\s+/g,' ').trim()
    const setScreen=id=>['screen-landing','screen-q1','screen-q2','screen-final'].forEach(x=>document.getElementById(x).style.display=x===id?'block':'none')

    document.getElementById('hunt-date').innerText=CONFIG.huntDate
    document.getElementById('startBtn').onclick=()=>{setScreen('screen-q1');saveProgress(1)}
    function saveProgress(n){const pct=Math.round((n/(CONFIG.totalSteps-1))*100);$('#progress-bar').style.width=pct+'%';$('#progress-label').innerText=`${n} / ${CONFIG.totalSteps-1}`;localStorage.setItem('scavenger_progress',String(n))}
    const existing=parseInt(localStorage.getItem('scavenger_progress')||'0');if(existing>0)saveProgress(existing)

    $('#submit-q1').onclick=()=>{const v=normalize($('#answer-q1').value);if(!v)return $('#q1-msg').innerText='Type something, handsome.';const ok=CONFIG.answers.q1.some(a=>normalize(a)===v||v.includes(normalize(a)));if(ok){$('#q1-msg').style.color='#a7f3d0';$('#q1-msg').innerText='Correct â€” smooth move.';saveProgress(2);setTimeout(()=>setScreen('screen-q2'),900)}else{$('#q1-msg').style.color='#ffd6e6';$('#q1-msg').innerText='Not quite â€” try another format (month + day).'}};
    $('#hint-q1').onclick=()=>$('#q1-msg').innerText='It was the very first day of September.';

    $('#encoded').innerText=CONFIG.encodedRiddle
    $('#decodeBtn').onclick=()=>{try{$('#decodedText').innerText=atob(CONFIG.encodedRiddle)}catch(e){$('#decodedText').innerText='Could not decode.'}}
    $('#submit-q2').onclick=()=>{const v=normalize($('#answer-q2').value);if(!v)return $('#q2-msg').innerText='Type the place name (you got this).';const ok=CONFIG.answers.q2.some(a=>normalize(a)===v||v.includes(normalize(a)));if(ok){$('#q2-msg').style.color='#a7f3d0';$('#q2-msg').innerText='Bingo â€” follow the taste of margaritas.';saveProgress(3);setTimeout(()=>setScreen('screen-final'),900)}else{$('#q2-msg').style.color='#ffd6e6';$('#q2-msg').innerText='Not that spot â€” think southwestern, bright, festive.'}};
    $('#hint-q2').onclick=()=>$('#decodedText').innerText='Hint: it has a K name and "Cantina" in it. Salt + lime.';

    $('#resetBtn').onclick=()=>{localStorage.removeItem('scavenger_progress');location.reload()}
    document.addEventListener('keydown',e=>{if(e.key==='Enter'){const v=[...document.querySelectorAll('#app > div')].find(x=>x.style.display!=='none');if(v&&v.id==='screen-q1')$('#submit-q1').click();if(v&&v.id==='screen-q2')$('#submit-q2').click();}})
    if(existing===1)setScreen('screen-q1');if(existing===2)setScreen('screen-q2');if(existing>=3)setScreen('screen-final')
  </script>
</body>
</html>